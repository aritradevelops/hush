apiVersion: v1
kind: Service
metadata:
  name: server-node-port
spec:
  type: NodePort
  ports:
      # port where other pods will be reaching this service
    - port: 3050
      # port that is exposed from the pod and we should target
      targetPort: 3000
      # the port that is actually exposed to outside world (30k to 32k)
      # if not specified then it will be autogenerated
      nodePort: 31515
  selector:
    component: server